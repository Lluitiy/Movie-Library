{"mappings":"iDAAO,MAAMA,EAAO,CACnBC,KAAMC,SAASC,cAAc,QAC7BC,aAAcF,SAASC,cAAc,cACrCE,aAAcH,SAASC,cAAc,YACrCG,aAAcJ,SAASC,cAAc,eACrCI,eAAgBL,SAASC,cAAc,uBACvCK,QAASN,SAASC,cAAc,W,SCLjCM,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAKC,EAAKH,GAC3BG,KAAOD,EACPL,OAAOC,eAAeI,EAAKC,EAAK,CAC5BH,MAAOA,EACPI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdJ,EAAIC,GAAOH,EAEf,OAAOE,GChBXK,QAAU,mCAEH,MAAMC,EAcZC,aACC,OAAOC,MACN,GAAGC,KAAKC,0EAAoDD,KAAKE,qBAAqBF,KAAKG,QAC1FC,MAAKC,IACN,IAAKA,EAAIC,GACR,MAAM,IAAIC,MAAMF,EAAIG,QAErB,OAAOH,EAAII,UAIbC,gBACCV,KAAKG,MAAQ,EAEdQ,gBACCX,KAAKG,MAAQ,EAEdS,YACCZ,KAAKG,KAAO,EAETU,aACH,OAAOb,KAAKE,aAGTW,WAAOC,GACVd,KAAKE,aAAeY,EAtCrBC,cAWAC,EAAA5B,EAAA,CAAAY,KAAA,WAAW,4BACXgB,EAAA5B,EAAA,CAAAY,KAAA,UAAU,IAXTA,KAAKE,aAAe,QACpBF,KAAKG,KAAO,EACZ,MAAMc,EAAYjB,KAClB,IAAIkB,SAAQ,CAACC,EAASC,KACrBC,YAAW,KACVJ,EAAUK,QAAU,IAClB,SCWNC,QAAQC,IAAI/C,EAAKQ,SCPjB,MAAMwC,EAAmB,IAAI5B,EAE7B4B,EAAiB3B,aAAaM,MAAK,EAACsB,YAAEA,EAAWvB,KAAEA,MAClD,MAAMwB,EAAY,GAElB,IAAK,IAAIC,EAAI,EAAGA,GAAKF,EAAaE,GAAK,EAAG,CAEzC,SAASC,IACR,OAAID,IAAMzB,EACH,0BAEA,GALRoB,QAAQC,IAAII,GAOZD,EAAUG,KACT,6BAA6BF,6BAA6BC,QAAaD,cAGzEL,QAAQC,IAAIG,EAAUI,KAAK,KAG3BtD,EAAKK,aAAakD,mBAAmB,WAAYL,EAAUI,KAAK,QAGjEtD,EAAKK,aAAamD,iBAAiB,SAGnC,WACCV,QAAQC,IAAI,SACZC,EAAiBd,mBAJlBlC,EAAKM,aAAakD,iBAAiB,SAQnC,WACCV,QAAQC,IAAI,QACZC,EAAiBf,mBAGlBa,QAAQC,IAAI/C,EAAKK,cC9CjB,MAAMoD,EAAkB,IAAIrC,EAE5BqC,EAAgBpC,aAAaM,MAAK+B,GAASC,gBAAgBD,EAAME,WAGjEd,QAAQC,IAAIU","sources":["src/js/refs.js","node_modules/@swc/helpers/lib/_define_property.js","src/js/movie-api-service.js","src/js/film-cards-markup.js","src/js/paginator-markup.js","src/index.js"],"sourcesContent":["export const refs = {\n\tbody: document.querySelector('body'),\n\tpaginatorDiv: document.querySelector('.paginator'),\n\tdecrementBtn: document.querySelector('#btnBack'),\n\tincrementBtn: document.querySelector('#btnForward'),\n\tfilmsContainer: document.querySelector('.js-films-container'),\n\tfilmsUl: document.querySelector('.films')\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","API_KEY = '407d4e26fe6158c959ba633b835fa721';\n\nexport class MovieApiService {\n\tconstructor() {\n\t\tthis.itemToSearch = 'thief';\n\t\tthis.page = 1;\n\t\tconst outerThis = this;\n\t\tnew Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\touterThis._genres = 5;\n\t\t\t}, 2000);\n\t\t});\n\t}\n\n\t_baseUrl = 'https:api.themoviedb.org';\n\t_genres = {};\n\tfetchCards() {\n\t\treturn fetch(\n\t\t\t`${this._baseUrl}/3/search/movie?api_key=${API_KEY}&query=${this.itemToSearch}&page=${this.page}`\n\t\t).then(res => {\n\t\t\tif (!res.ok) {\n\t\t\t\tthrow new Error(res.status);\n\t\t\t}\n\t\t\treturn res.json();\n\t\t});\n\t}\n\n\tincrementPage() {\n\t\tthis.page += 1;\n\t}\n\tdecrementPage() {\n\t\tthis.page -= 1;\n\t}\n\tresetPage() {\n\t\tthis.page = 1;\n\t}\n\tget search() {\n\t\treturn this.itemToSearch;\n\t}\n\n\tset search(newSearch) {\n\t\tthis.itemToSearch = newSearch;\n\t}\n}\n","import { refs } from './refs';\n\nexport default function filmCardsMarkup(films) {\n\tconst items = films.map(\n\t\t({ title, genre_ids, release_date = '--', poster_path }) => {\n\t\t\treturn `\n        <li class=\"films__item\">\n            <img \n                class=\"films__img\" \n                src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" \n                alt=\"${title}\">\n            <h3 class=\"films__title\">${title}</h3>\n            <p class=\"films__genre\">${genre_ids.join(', ')}</p>\n            <p class=\"films__year\">${release_date.slice(0, 4)}</p>\n        </li>\n      `;\n\t\t}\n\t);\n\n\trefs.filmsUl.innerHTML = items.join('');\n}\nconsole.log(refs.filmsUl);\n","import { refs } from './refs';\nimport {MovieApiService} from './movie-api-service'\n// import Pagination from 'tui-pagination';\n\n\n// const container = document.getElementById('pagination');\n\n// var pagination2 = new tui.Pagination(document.getElementById('pagination2'), {\n// \ttotalItems: 500,\n// \titemsPerPage: 20,\n// \tvisiblePages: 5,\n// \tcenterAlign: true,\n// });\n\nconst movieApiService1 = new MovieApiService();\n\nmovieApiService1.fetchCards().then(({ total_pages, page }) => {\n\tconst btnResult = [];\n\n\tfor (let i = 1; i <= total_pages; i += 1) {\n\t\tconsole.log(i);\n\t\tfunction active() {\n\t\t\tif (i === page) {\n\t\t\treturn 'paginator__page--active';\n\t\t\t}\n\t\t\treturn ''\n\t\t};\n\t\tbtnResult.push(\n\t\t\t`<button type=\"button\" id=\"${i}\" class=\"paginator__page ${active()}\">${i}</button>`\n\t\t);\n\t}\n\tconsole.log(btnResult.join(''));\n\n\t// (r.total_pages).map((el) => { return `<button type='button>${el.page}</button>'` });\n\trefs.decrementBtn.insertAdjacentHTML('afterend', btnResult.join(''));\n});\n\nrefs.decrementBtn.addEventListener('click', onBtnBack);\nrefs.incrementBtn.addEventListener('click', onBtnForward);\n\nfunction onBtnBack() {\n\tconsole.log('hi - ');\n\tmovieApiService1.decrementPage();\n\t\n}\n\nfunction onBtnForward() {\n\tconsole.log('gi +');\n\tmovieApiService1.incrementPage();\n\t\n}\nconsole.log(refs.decrementBtn);\n","import { refs } from './js/refs';\nimport { MovieApiService } from './js/movie-api-service';\nimport filmCardsMarkup from './js/film-cards-markup';\nimport './js/paginator-markup';\n\nconst movieApiService = new MovieApiService;\n\nmovieApiService.fetchCards().then(films => renderFilmCards(films.results))\n\n\nconsole.log(movieApiService);"],"names":["$ee27a4d7c64fc8c4$export$21666b427502ea6d","body","document","querySelector","paginatorDiv","decrementBtn","incrementBtn","filmsContainer","filmsUl","Object","defineProperty","$da4b248c00322402$exports","value","default","obj","key","enumerable","configurable","writable","API_KEY","$4a35a8fba172d7b1$export$fe56763d544e0483","fetchCards","fetch","this","_baseUrl","itemToSearch","page","then","res","ok","Error","status","json","incrementPage","decrementPage","resetPage","search","newSearch","constructor","$parcel$interopDefault","outerThis","Promise","resolve","reject","setTimeout","_genres","console","log","$7840a31ad4907a0d$var$movieApiService1","total_pages","btnResult","i","active","push","join","insertAdjacentHTML","addEventListener","$1f0dc3b9307be026$var$movieApiService","films","renderFilmCards","results"],"version":3,"file":"index.8d0ccf86.js.map"}