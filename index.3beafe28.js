function e(e){return e&&e.__esModule?e.default:e}const t={body:document.querySelector("body"),paginatorDiv:document.querySelector(".paginator"),decrementBtn:document.querySelector("#btnBack"),incrementBtn:document.querySelector("#btnForward"),filmsContainer:document.querySelector(".js-films-container"),filmsUl:document.querySelector(".films")};var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e},API_KEY="407d4e26fe6158c959ba633b835fa721";class r{async fetchCards(){const e=await fetch(`${this._baseUrl}/3/search/movie?api_key=${API_KEY}&query=${this.itemToSearch}&page=${this.page}`),t=await e.json();if(this._genre.length>0)return this._transformFilms(t,this._genre);const n=await fetch(`${this._baseUrl}/3/genre/movie/list?api_key=${API_KEY}&query=${this.itemToSearch}&page=${this.page}`),r=await n.json();return this._genre=r.genres,this._transformFilms(t,this._genre)}_transformFilms(e,t){const n=e.results.map((({vote_average:e,vote_count:n,popularity:r,title:s,overview:i,release_date:a,poster_path:o,original_title:c,genre_ids:l})=>({genreNames:t.filter((e=>l.includes(e.id))).map((e=>e.name)),popularity:r,title:s,overview:i,voteAverage:e,voteCount:n,releaseDate:a,posterPath:o,originalTitle:c})));return{...e,results:n}}incrementPage(){this.page+=1}decrementPage(){this.page-=1}resetPage(){this.page=1}get search(){return this.itemToSearch}set search(e){this.itemToSearch=e}constructor(){e(n)(this,"_baseUrl","https:api.themoviedb.org"),e(n)(this,"_genre",[]),this.itemToSearch="sherlock",this.page=1}}function s(e){const n=e.map((({genreNames:e,title:t,releaseDate:n="--",posterPath:r})=>`\n        <li class="films__item">\n            <img \n                class="films__img" \n                src=${r?`https://image.tmdb.org/t/p/w500/${r}`:"https://via.placeholder.com/395x574"}\n                alt="${t}">\n            <h3 class="films__title">${t}</h3>\n            <p class="films__genre">${e.join(", ")}</p>\n            <p class="films__year">${n.slice(0,4)}</p>\n        </li>\n      `));t.filmsUl.innerHTML=n.join("")}(new r).fetchCards().then((e=>s(e.results)));const i=new r;i.fetchCards().then((({total_pages:e,page:n})=>{const r=[];for(let i=1;i<=e;i+=1){function s(){return i===n?"paginator__page--active":""}console.log(i),r.push(`<button type="button" id="${i}" class="paginator__page ${s()}">${i}</button>`)}console.log(r.join("")),t.decrementBtn.insertAdjacentHTML("afterend",r.join(""))})),t.decrementBtn.addEventListener("click",(function(){console.log("hi - "),i.decrementPage(),i.fetchCards().then((e=>s(e.results)))})),t.incrementBtn.addEventListener("click",(function(){console.log("gi +"),i.incrementPage(),i.fetchCards().then((e=>s(e.results)))})),console.log(t.decrementBtn);
//# sourceMappingURL=index.3beafe28.js.map
